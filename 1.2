/*
  Exercise 1.2 - Familiar with Wi-Fi library (WiFiNINA)
  Board: Arduino MKR WiFi 1010
*/

#include <WiFiNINA.h>  // Include the WiFiNINA library for MKR1010

void setup() {
  Serial.begin(9600);         // Start Serial Monitor at 9600 baud
  while (!Serial);            // Wait for Serial Monitor to open (important on MKR boards)

  Serial.println("WiFi Network Scanner started...");
  
  // Check if the WiFi module is detected
  if (WiFi.status() == WL_NO_MODULE) {
    Serial.println("WiFi module not found!");
    while (true);  // Stop program here if module is missing
  }
}

void loop() {
  Serial.println("Scanning available networks...");

  // Scan for available Wi-Fi networks
  int numNetworks = WiFi.scanNetworks();

  // Print total number of networks found
  Serial.print("Number of networks found: ");
  Serial.println(numNetworks);

  // Loop through all found networks and print details
  for (int i = 0; i < numNetworks; i++) {
    Serial.print("Network: ");
    Serial.print(WiFi.SSID(i));        // Print network SSID (name)
    Serial.print(" | Signal Strength: ");
    Serial.print(WiFi.RSSI(i));        // Print signal strength in dBm
    Serial.print(" dBm | Encryption: ");
    Serial.println(WiFi.encryptionType(i)); // Print encryption type
  }

  Serial.println("--------------------------------------");

  // Wait 30 seconds before scanning again
  delay(30000);
}
